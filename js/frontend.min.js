document.addEventListener("DOMContentLoaded",function(){(PostViewsCounter={promise:null,init:function(a){"rest_api"===a.mode?this.promise=this.request(a.requestURL+"?id="+a.postID,{id:a.postID},"POST",{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8","X-WP-Nonce":a.nonce}):this.promise=this.request(a.requestURL,{action:"pvc-check-post",pvc_nonce:a.nonce,id:a.postID},"POST",{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"})},request:function(a,b,c,d){let e={method:c,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:d,body:this.prepareData(b)},f=this;return fetch(a,e).then(function(a){if(!a.ok)throw Error(a.statusText);return a.json()}).then(function(a){try{"object"==typeof a&&null!==a&&f.triggerEvent("pvcCheckPost",a)}catch(b){console.log("Invalid JSON data"),console.log(b)}}).catch(function(a){console.log("Invalid response"),console.log(a)})},prepareData:function(a){return Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(a[b])}).join("&").replace(/%20/g,"+")},triggerEvent:function(a,b){let c=new CustomEvent(a,{bubbles:!0,detail:b});document.dispatchEvent(c)}}).init(pvcArgsFrontend)})